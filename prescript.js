(function(){var n=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",o=localStorage.getItem("theme")??n;document.documentElement.setAttribute("saved-theme",o);var t=e=>{let a=new CustomEvent("themechange",{detail:{theme:e}});document.dispatchEvent(a)};document.addEventListener("nav",()=>{let e=()=>{let d=document.documentElement.getAttribute("saved-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("saved-theme",d),localStorage.setItem("theme",d),t(d)},a=d=>{let m=d.matches?"dark":"light";document.documentElement.setAttribute("saved-theme",m),localStorage.setItem("theme",m),t(m)};for(let d of document.getElementsByClassName("darkmode"))d.addEventListener("click",e),window.addCleanup(()=>d.removeEventListener("click",e));let c=window.matchMedia("(prefers-color-scheme: dark)");c.addEventListener("change",a),window.addCleanup(()=>c.removeEventListener("change",a))})})(),(function(){var n=!1,o=t=>{let e=new CustomEvent("readermodechange",{detail:{mode:t}});document.dispatchEvent(e)};document.addEventListener("nav",()=>{let t=()=>{n=!n;let e=n?"on":"off";document.documentElement.setAttribute("reader-mode",e),o(e)};for(let e of document.getElementsByClassName("readermode"))e.addEventListener("click",t),window.addCleanup(()=>e.removeEventListener("click",t));document.documentElement.setAttribute("reader-mode",n?"on":"off")})})(),(function(){var n=()=>{let o=document.querySelectorAll(".sidebar-toggle");if(o.length===0)return;let t=()=>{document.body.classList.toggle("hide-sidebars")};o.forEach(e=>{e.addEventListener("click",t),window.addCleanup(()=>e.removeEventListener("click",t))})};document.addEventListener("nav",n)})();
